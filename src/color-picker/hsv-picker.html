<div class="hsv-picker">
  <Slider ref:hue
    value="{color.hue()}" max="359" gradient="{hue}"
    on:change="set({ color: color.hue(event.value) })"/>
  <Slider ref:saturation
    value="{color.saturationl()}" gradient="{saturation}"
    on:change="set({ color: color.saturationl(event.value) })"/>

  <Spectrum ref:spectrum bind:color model="hsv" />

  <Slider ref:lightness
    value="{color.lightness()}" gradient="{lightness}"
    on:change="set({ color: color.lightness(event.value) })"/>
  <Slider ref:alpha
    value="{color.alpha() * 100}" gradient="{alpha}"
    on:change="set({ color: color.alpha(event.value / 100) })"/>
</div>

<style>
  .hsv-picker {
    position: relative;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: stretch;
    justify-content: space-around;
  }

  .hsv-picker > :nth-child(3) {
    flex: 2 1 auto;
  }
  .hsv-picker > :nth-child(1),
  .hsv-picker > :nth-child(2),
  .hsv-picker > :nth-child(4),
  .hsv-picker > :nth-child(5) {
    flex: 0 1 20px;
  }
  .hsv-picker > :nth-child(2),
  .hsv-picker > :nth-child(4){
    margin: 0 8px;
  }
</style>

<script>
  import Spectrum from './spectrum.html'
  import Slider from './slider.html'

  export default {
    components: {
      Spectrum,
      Slider,
    },
    data () {
      return {
        color: '#000',
        hue: ['red', 'yellow', 'lime', 'cyan', 'blue', 'Magenta', 'red'],
      }
    },
    computed: {
      saturation: ({ color }) => [
        color.alpha(1).saturationl(0),
        color.alpha(1).saturationl(100)
      ],
      lightness: ({ color }) => [
        color.alpha(1).lightness(0),
        color.alpha(1).lightness(50),
        color.alpha(1).lightness(100)
      ],
      alpha: ({ color }) => [color.alpha(0), color.alpha(1)],
    },
  }
</script>
